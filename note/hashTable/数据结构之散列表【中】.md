## 数据结构之散列表【中】

### 一、思考？何为一个工业级的散列表？工业级的散列表应该具有哪些特性？
- 支持快速的查询，插入，删除操作；
- 内存占用合理，不能浪费过多的内存空间；
- 性能稳定，极端情况下，散列表的性能也不会退化到不可接受的地步；

### 二、如何实现这样一个散列表呢？
- 设计一个合理的散列函数；
- 定义装载因子阈值，并且设计动态扩容策略；
- 选择合适的散列冲突解决方案，如果开放地址法，链表法

### 三、如何避免低效扩容？分批扩容
- 分批扩容的插入操作：当有新数据要插入的时候，我们将数据插入新的散列表中，并且从老的散列表中拿出一个数据放入新的散列表。每次插入都重复上面的过程。这样插入操作就变快了。
- 分批扩容的查询操作：先查询新的散列表，再去查询旧的散列表。
- 通过分批扩容的方式，任何情况下，插入一个数据的时间复杂度都是O(1)。

### 四、关于散列函数的设计
- 尽可能让散列表的值随机且均匀分布，这样会尽可能的减少散列表的冲突，即便冲突之后，分配到每个槽的数据也比较均匀。
- 散列函数的设计也不能太复杂，太复杂会太耗时间，也会影响散列表的性能。
- 常见的散列函数设计方法：直接寻址法，平方取中法，折叠法，随机数法等等。

### 五、散列冲突解决方案的选择

- 大部分情况下，链表法更加合适
- 我们还可以通过将链表法中的链表改造成其他动态查找数据结构，比如红黑树，来避免散列表时间复杂度退化成O(n),抵御散列碰撞攻击。
- 对于小规模数据、装载因子不高的散列表，比较适合使用开放寻址法。